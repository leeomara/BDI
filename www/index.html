<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="format-detection" content="telephone=no">
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi">
        <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="css/roboto.css">
        <link rel="stylesheet" type="text/css" href="css/animate.css">
        <link rel="stylesheet" type="text/css" href="css/main.css">
        <title>relievR</title>
    </head>
    <body class="app">
        <nav class="navbar navbar-default" role="navigation">
            <div class="container-fluid">
                <div class="pull-left">
                    <a class="navbar-brand" href="#"><img class="logo" src="img/logo_UI_relievR_2.svg"></a>
                </div>

                <div class="navbar-text pull-right">
                	<img class="icon icon-questions questionsView" src="img/icon_edit.svg">
                    <img class="icon icon-treatment treatmentsView" src="img/icon_treatment_on.svg">
                    <img class="icon icon-reports reportsView" src="img/icon_reports_history_on.svg">
                </div>
            </div>
        </nav>


        <div class="appContainer">
            <div class="container">
                <div class="questionContainer"></div>
                <div class="questionResultsContainer" style="display:none"></div>
                <div class="endContainer" style="display:none">
                    <div class="animated fadeInRight">
                        <h1 class="text-center all-done">All done.</h1>
                        <div class="col-xs-offset-1 col-xs-10">
                            <button class="btn btn-lg btn-primary btn-block reportsView">VIEW REPORT</button>
                        </div>
                    </div>
                </div>
                <div class="treatmentsContainer" style="display:none">
              	 	<div class="row treatmentPeriod">
	            		<h2 class="date">Today</h2>

	            		<div class="input-group input-group-lg addTreatment">
	      					<textarea class="form-control treatmentText" name="treatmentText" ></textarea>
	      					<span class="input-group-btn">
	        					<button class="btn btn-default addbutton" type="button"><span class="glyphicon glyphicon-plus "></span></button>
	      					</span>
	   					</div>
		   				<div class="list-group treatments">
		   					<div class="list-group-item treatment"><div class="treatmentText">Acupuncture, 20 min, weekly</div><div class="removeTreatment"></div></div>
		            	</div>
	            	</div>
	            	<div class="row treatmentPeriod">
	            		<h2 class="date">Feb 19, 2014</h2>
	   					<div class="list-group treatments">
	   						<div class="list-group-item treatment"><div class="treatmentText">Acupuncture, 20 min, weekly</div><div class="removeTreatment"></div></div>
	   						<div class="list-group-item treatment"><div class="treatmentText">Oxycotin, 200mg insuflated, hourly</div><div class="removeTreatment"></div></div>
	   						<div class="list-group-item treatment"><div class="treatmentText">Physio, 20 min, daily</div><div class="removeTreatment"></div></div>
	            		</div>
	            	</div>
	            	<div class="row treatmentPeriod">
	            		<h2 class="date">Jan 1, 2014</h2>
	   					<div class="list-group treatments">
	   						<div class="list-group-item treatment"><div class="treatmentText">Acupuncture, 20 min, weekly</div><div class="removeTreatment"></div></div>
	   						<div class="list-group-item treatment"><div class="treatmentText">Oxycotin, 20mg, every 6 hours</div><div class="removeTreatment"></div></div>
	            		</div>
	            	</div>
                </div>
            </div>

            <footer>
                <div class="container text-center status next">
                    <p><img class="icon icon-btn-next" src="img/btn_next.svg"></p>
                </div>
            </footer>
        </div>



        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="js/lib/jquery-1.10.2.min.js"></script>
        <script type="text/javascript" src="js/lib/underscore-min.js"></script>
        <script type="text/javascript" src="js/lib/backbone-min.js"></script>
        <script type="text/javascript" src="js/lib/mustache.min.js"></script>
        <script type="text/javascript" src="js/lib/moment.min.js"></script>
        <script type="text/javascript" src="js/models/question-model.js"></script>
        <script type="text/javascript" src="js/models/treatment-model.js"></script>
        <script type="text/javascript" src="js/collections/question-collection.js"></script>
        <script type="text/javascript" src="js/collections/current-treatment-collection.js"></script>
        <script type="text/javascript" src="js/collections/past-treatment-collection.js"></script>
        <script type="text/javascript" src="js/views/question-view.js"></script>
        <script type="text/javascript" src="js/views/result-view.js"></script>
        <script type="text/javascript" src="js/views/app-view.js"></script>
        <script type="text/javascript">
            var questions = [
                {
                    'id': 1,
                    'text': 'Please rate your pain at its WORST in the last 24 hours.',
                    'avgShort': 'Average Pain',
                    'type': 'range',
                    'min': 'None',
                    'max': 'Extreme',
                },
                {
                    'id': 2,
                    'text': 'Please rate your pain at its LEAST in the last 24 hours.',
                    'avgShort': 'Least Pain',
                    'type': 'range',
                    'min': 'None',
                    'max': 'Extreme',
                },
                {
                    'id': 3,
                    'text': 'Please rate your pain on the AVERAGE.',
                    'avgShort': 'Worst Pain',
                    'type': 'range',
                    'min': 'None',
                    'max': 'Extreme',
                },
                {
                    'id': 4,
                    'text': 'How much pain you have RIGHT NOW.',
                    'avgShort': 'Pain Right Now',
                    'type': 'range',
                    'min': 'None',
                    'max': 'Extreme',
                },
                {
                    'id': 5,
                    'text': 'In the last 24 hours, how much relief have pain treatments or medications provided?',
                    'avgShort': 'Pain Relief',
                    'type': 'range',
                    'min': 'None',
                    'max': 'Completely',
                },
                {
                    'id': 7,
                    'text': 'During the past 24 hours, how much has pain interfered with your General activity:',
                    'type': 'range',
                    'avgShort': 'General Activity',
                    'min': 'None',
                    'max': 'Completely',
                },
                {
                    'id': 8,
                    'text': 'During the past 24 hours, how much has pain interfered with your Mood:',
                    'type': 'range',
                    'avgShort': 'Mood',
                    'min': 'None',
                    'max': 'Completely',
                },
                {
                    'id': 9,
                    'text': 'During the past 24 hours, how much has pain interfered with your Walking ability:',
                    'type': 'range',
                    'avgShort': 'Walking',
                    'min': 'None',
                    'max': 'Completely',
                },
                {
                    'id': 10,
                    'text': 'During the past 24 hours, how much has pain interfered with your Normal work (includes both work outside the home and housework):',
                    'type': 'range',
                    'avgShort': 'Normal Work',

                    'min': 'None',
                    'max': 'Completely',
                },
                {
                    'id': 11,
                    'text': 'During the past 24 hours, how much has pain interfered with your Relations with other people:',
                    'type': 'range',
                    'avgShort': 'Relations',

                    'min': 'None',
                    'max': 'Completely',
                },
                {
                    'id': 12,
                    'text': 'During the past 24 hours, how much has pain interfered with your Sleep:',
                    'type': 'range',
                    'avgShort': 'Sleep',
                    'min': 'None',
                    'max': 'Completely',
                },
                {
                    'id': 13,
                    'text': 'During the past 24 hours, how much has pain interfered with your Enjoyment of life:',
                    'type': 'range',
                    'avgShort': 'Enjoyment of Life',

                    'min': 'None',
                    'max': 'Completely',
                }
            ];
            $(function() {


                localStorage.setItem('question-1','[{"timestamp":1399777811402,"value":6},{"timestamp":1399778076555,"value":5},{"timestamp":1399782144502,"value":5},{"timestamp":1399782200737,"value":4},{"timestamp":1399782302954,"value":5},{"timestamp":1399782676653,"value":7},{"timestamp":1399782707164,"value":5},{"timestamp":1399782737900,"value":5},{"timestamp":1399783162314,"value":7},{"timestamp":1399783501465,"value":8},{"timestamp":1399827034738,"value":7},{"timestamp":1399827075627,"value":6},{"timestamp":1399827096942,"value":6},{"timestamp":1399827107897,"value":6},{"timestamp":1399827215241,"value":6},{"timestamp":1399828126299,"value":6},{"timestamp":1399828159068,"value":6},{"timestamp":1399828824539,"value":5},{"timestamp":1399829008745,"value":5},{"timestamp":1399829797304,"value":6},{"timestamp":1399831055890,"value":7},{"timestamp":1399831111163,"value":6},{"timestamp":1399834288572,"value":7}]');
                localStorage.setItem('question-10','[{"timestamp":1399782144502,"value":5},{"timestamp":1399782200737,"value":2},{"timestamp":1399782302954,"value":5},{"timestamp":1399782676653,"value":5},{"timestamp":1399782707164,"value":5},{"timestamp":1399782737900,"value":5},{"timestamp":1399783162314,"value":5},{"timestamp":1399783501465,"value":5}]');
                localStorage.setItem('question-11', '[{"timestamp":1399782144502,"value":5},{"timestamp":1399782200737,"value":2},{"timestamp":1399782302954,"value":5},{"timestamp":1399782676653,"value":5},{"timestamp":1399782707164,"value":5},{"timestamp":1399782737900,"value":5},{"timestamp":1399783162314,"value":5},{"timestamp":1399783501465,"value":5}]');
                localStorage.setItem('question-12','[{"timestamp":1399782144502,"value":5},{"timestamp":1399782200737,"value":7},{"timestamp":1399782302954,"value":5},{"timestamp":1399782676653,"value":5},{"timestamp":1399782707164,"value":5},{"timestamp":1399782737900,"value":5},{"timestamp":1399783162314,"value":5},{"timestamp":1399783501465,"value":5}]');
                localStorage.setItem('question-13','[{"timestamp":1399782144502,"value":5},{"timestamp":1399782200737,"value":5},{"timestamp":1399782302954,"value":5},{"timestamp":1399782676653,"value":5},{"timestamp":1399782707164,"value":5},{"timestamp":1399782737900,"value":5},{"timestamp":1399783162314,"value":5},{"timestamp":1399783501465,"value":5}]');
                localStorage.setItem('question-2','[{"timestamp":1399778076555,"value":3},{"timestamp":1399782144502,"value":5},{"timestamp":1399782200737,"value":7},{"timestamp":1399782302954,"value":5},{"timestamp":1399782676653,"value":5},{"timestamp":1399782707164,"value":5},{"timestamp":1399782737900,"value":5},{"timestamp":1399783162314,"value":5},{"timestamp":1399783501465,"value":5},{"timestamp":1399827034738,"value":5},{"timestamp":1399827075627,"value":6},{"timestamp":1399827096942,"value":6},{"timestamp":1399827107897,"value":7},{"timestamp":1399827215241,"value":6},{"timestamp":1399828159068,"value":5},{"timestamp":1399828824539,"value":5},{"timestamp":1399829008745,"value":5},{"timestamp":1399829797304,"value":5},{"timestamp":1399831055890,"value":4}]');
                localStorage.setItem('question-3','[{"timestamp":1399782144502,"value":5},{"timestamp":1399782200737,"value":2},{"timestamp":1399782302954,"value":5},{"timestamp":1399782676653,"value":5},{"timestamp":1399782707164,"value":5},{"timestamp":1399782737900,"value":5},{"timestamp":1399783162314,"value":5},{"timestamp":1399783501465,"value":5},{"timestamp":1399827034738,"value":5},{"timestamp":1399828824539,"value":5},{"timestamp":1399831055890,"value":7}]');
                localStorage.setItem('question-4','[{"timestamp":1399782144502,"value":5},{"timestamp":1399782200737,"value":7},{"timestamp":1399782302954,"value":5},{"timestamp":1399782676653,"value":5},{"timestamp":1399782707164,"value":5},{"timestamp":1399782737900,"value":5},{"timestamp":1399783162314,"value":5},{"timestamp":1399783501465,"value":5},{"timestamp":1399831055890,"value":7}]');
                localStorage.setItem('question-5','[{"timestamp":1399782144502,"value":5},{"timestamp":1399782200737,"value":8},{"timestamp":1399782302954,"value":5},{"timestamp":1399782676653,"value":5},{"timestamp":1399782707164,"value":5},{"timestamp":1399782737900,"value":5},{"timestamp":1399783162314,"value":5},{"timestamp":1399783501465,"value":5}]');
                localStorage.setItem('question-7','[{"timestamp":1399782144502,"value":5},{"timestamp":1399782200737,"value":3},{"timestamp":1399782302954,"value":5},{"timestamp":1399782676653,"value":5},{"timestamp":1399782707164,"value":5},{"timestamp":1399782737900,"value":5},{"timestamp":1399783162314,"value":5},{"timestamp":1399783501465,"value":5}]');
                localStorage.setItem('question-8','[{"timestamp":1399782144502,"value":5},{"timestamp":1399782200737,"value":7},{"timestamp":1399782302954,"value":5},{"timestamp":1399782676653,"value":5},{"timestamp":1399782707164,"value":5},{"timestamp":1399782737900,"value":5},{"timestamp":1399783162314,"value":5},{"timestamp":1399783501465,"value":5}]');
                localStorage.setItem('question-9','[{"timestamp":1399782144502,"value":5},{"timestamp":1399782200737,"value":9},{"timestamp":1399782302954,"value":5},{"timestamp":1399782676653,"value":5},{"timestamp":1399782707164,"value":5},{"timestamp":1399782737900,"value":5},{"timestamp":1399783162314,"value":5},{"timestamp":1399783501465,"value":5}]');


                var questionCollection = new QuestionsCollection(questions);
                var pastTreatments = new PastTreatmentCollection();
                pastTreatments.loadFromLocal();
                var currentTreatments = new CurrentTreatmentCollection();
                currentTreatments.loadFromLocal();
                app = new AppView({'questionCollection':questionCollection, 'currentTreatments': currentTreatments, 'pastTreatments':pastTreatments, el:$('.app')});
                app.getNextQuestion();
            });
        </script>

        <script id="questionTemplate" type="html/template">
            <div class="questionText animated fadeInRight">
                <h1 class="text-center">{{{ text }}}</h1>

                <form>
                    <div class="form-group   text-center">
                        <div class="range-input clearfix">
                            <p class="value">5</p>
                            <input type="range" min="0" max="10" value="5" class="form-input input-lg">
                            <span class="pull-left label label-default margeiner">0 - {{ min }}</span>
                            <span class="pull-right label label-default margeiner">{{ max }} - 10</span>
                        </div>
                    </div>
                </form>
            </div>
        </script>

		<script id="questionResultsTemplate" type="html/template">
			<div class="row questionResult">

				<h2 class="questionShortText">{{avgShort}}</h2>

	           	<div class="col-xs-6 questionCurrentResult">
	            	<span class="questionAverageResult">{{avg}}</span>
	            </div>
	            <div class="col-xs-6 comparisons" >

		        	<div class="{{#avgTimeChanged}}{{^avgTimeUp}}improved{{/avgTimeUp}}{{#avgTimeUp}}worse{{/avgTimeUp}}{{/avgTimeChanged}}{{^avgTimeChanged}}noChange{{/avgTimeChanged}}"><span class="glyphicon glyphicon-time"></span>{{#avgTimeChanged}}<span class="glyphicon glyphicon-arrow-{{#avgTimeUp}}up{{/avgTimeUp}}{{^avgTimeUp}}down{{/avgTimeUp}}"></span>{{/avgTimeChanged}}<span class="changeValue">{{avgTime}}%</span></div>
		           	<hr class="separator" />
		           	<div class="{{#avgTreatmentChanged}}{{^avgTreatmentUp}}improved{{/avgTreatmentUp}}{{#avgTreatmentUp}}worse{{/avgTreatmentUp}}{{/avgTreatmentChanged}}{{^avgTreatmentChanged}}noChange{{/avgTreatmentChanged}}"><img class="icon icon-treatment report" src="img/icon_treatment.svg">{{#avgTreatmentChanged}}<span class="glyphicon glyphicon-arrow-{{#avgTreatmentUp}}up{{/avgTreatmentUp}}{{^avgTreatmentUp}}down{{/avgTreatmentUp}}"></span>{{/avgTreatmentChanged}}<span class="changeValue">{{avgTreatment}}%</span></div>

	           	</div>
	        </div>
		</script>

		<script id="treatmentTemplate" type="html/template">

			<div class="row treatmentPeriod">
            	<h2 class="date">{{niceDate}}</h2>
				{{#isCurrent}}
            		<div class="input-group input-group-lg addTreatment">
      					<textarea class="form-control treatmentText" name="treatmentText" ></textarea>
      					<span class="input-group-btn">
        					<button class="btn btn-default addbutton" type="button"><span class="glyphicon glyphicon-plus "></span></button>
      					</span>
   					</div>
				{{/isCurrent}}
   				<div class="list-group treatments">
   					<div class="list-group-item treatment"><div class="treatmentText">Acupuncture, 20 min, weekly</div><div class="removeTreatment"></div></div>
            	</div>
            	</div>
            	<div class="row treatmentPeriod">
            		<h2 class="date">Feb 19, 2014</h2>
   					<div class="list-group treatments">
   						<div class="list-group-item treatment"><div class="treatmentText">Acupuncture, 20 min, weekly</div><div class="removeTreatment"></div></div>
   						<div class="list-group-item treatment"><div class="treatmentText">Oxycotin, 200mg insuflated, hourly</div><div class="removeTreatment"></div></div>
   						<div class="list-group-item treatment"><div class="treatmentText">Physio, 20 min, daily</div><div class="removeTreatment"></div></div>
            		</div>
            	</div>
            	<div class="row treatmentPeriod">
            		<h2 class="date">Feb 19, 2014</h2>
   					<div class="list-group treatments">
   						<div class="list-group-item treatment"><div class="treatmentText">Acupuncture, 20 min, weekly</div><div class="removeTreatment"></div></div>
   						<div class="list-group-item treatment"><div class="treatmentText">Oxycotin, 200mg insuflated, hourly</div><div class="removeTreatment"></div></div>
   						<div class="list-group-item treatment"><div class="treatmentText">Physio, 20 min, daily</div><div class="removeTreatment"></div></div>
            		</div>
            	</div>
		</script>

    </body>
</html>
