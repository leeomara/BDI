<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="format-detection" content="telephone=no">
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi">
        <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="css/roboto.css">
        <link rel="stylesheet" type="text/css" href="css/animate.css">
        <link rel="stylesheet" type="text/css" href="css/main.css">
        <title>relievR</title>
    </head>
    <body class="app">
        <nav class="navbar navbar-default" role="navigation">
            <div class="container-fluid">
                <div class="pull-left">
                    <a class="navbar-brand" href="#"><img class="logo" src="img/logo_UI_relievR_2.svg"></a>
                </div>

                <div class="navbar-text pull-right">
                    <img class="icon icon-treatment" src="img/icon_treatment.svg">
                    <img class="icon icon-reports" src="img/icon_reports_history.svg">
                    <img class="icon icon-configuration" src="img/icon_configuration.svg">
                </div>
            </div>
        </nav>

        <div class="appContainer">
            <div class="container">
                <div class="questionContainer"></div>
                <div class="questionResultsContainer" style="display:none"></div>
            </div>

            <footer>
                <div class="container text-center status next">
                    <p><img class="icon icon-btn-next" src="img/btn_next.svg"></p>
                </div>
            </footer>
        </div>



        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="js/lib/jquery-1.10.2.min.js"></script>
        <script type="text/javascript" src="js/lib/underscore-min.js"></script>
        <script type="text/javascript" src="js/lib/backbone-min.js"></script>
        <script type="text/javascript" src="js/lib/mustache.min.js"></script>
        <script type="text/javascript" src="js/models/question-model.js"></script>
        <script type="text/javascript" src="js/models/treatment-model.js"></script>
        <script type="text/javascript" src="js/collections/question-collection.js"></script>
        <script type="text/javascript" src="js/collections/current-treatment-collection.js"></script>
        <script type="text/javascript" src="js/collections/past-treatment-collection.js"></script>
        <script type="text/javascript" src="js/views/question-view.js"></script>
        <script type="text/javascript" src="js/views/app-view.js"></script>
        <script type="text/javascript">
            var questions = [
                {
                    'id': 1,
                    'text': 'Please rate your pain at its WORST in the last 24 hours.',
                    'type': 'range',
                    'min': 'No pain',
                    'max': 'Extreme pain',
                },
                {
                    'id': 2,
                    'text': 'Please rate your pain at its LEAST in the last 24 hours.',
                    'type': 'range',
                    'min': 'No pain',
                    'max': 'Extreme pain',
                },
                {
                    'id': 3,
                    'text': 'Please rate your pain on the AVERAGE.',
                    'type': 'range',
                    'min': 'No pain',
                    'max': 'Extreme pain',
                },
                {
                    'id': 4,
                    'text': 'How much pain you have RIGHT NOW.',
                    'type': 'range',
                    'min': 'No pain',
                    'max': 'Extreme pain',
                },
                {
                    'id': 5,
                    'text': 'In the last 24 hours, how much relief have pain treatments or medications provided?',
                    'type': 'range',
                    'min': 'No relief',
                    'max': 'Complete relief',
                },
                {
                    'id': 7,
                    'text': 'During the past 24 hours, how much has pain interfered with your General activity:',
                    'type': 'range',
                    'min': 'No interference',
                    'max': 'Complete interference',
                },
                {
                    'id': 8,
                    'text': 'During the past 24 hours, how much has pain interfered with your Mood:',
                    'type': 'range',
                    'min': 'No interference',
                    'max': 'Complete interference',
                },
                {
                    'id': 9,
                    'text': 'During the past 24 hours, how much has pain interfered with your Walking ability:',
                    'type': 'range',
                    'min': 'No interference',
                    'max': 'Complete interference',
                },
                {
                    'id': 10,
                    'text': 'During the past 24 hours, how much has pain interfered with your Normal work (includes both work outside the home and housework):',
                    'type': 'range',
                    'min': 'No interference',
                    'max': 'Complete interference',
                },
                {
                    'id': 11,
                    'text': 'During the past 24 hours, how much has pain interfered with your Relations with other people:',
                    'type': 'range',
                    'min': 'No interference',
                    'max': 'Complete interference',
                },
                {
                    'id': 12,
                    'text': 'During the past 24 hours, how much has pain interfered with your Sleep:',
                    'type': 'range',
                    'min': 'No interference',
                    'max': 'Complete interference',
                },
                {
                    'id': 13,
                    'text': 'During the past 24 hours, how much has pain interfered with your Enjoyment of life:',
                    'type': 'range',
                    'min': 'No interference',
                    'max': 'Complete interference',
                }
            ];
            $(function() {
                var questionCollection = new QuestionsCollection(questions);
                var pastTreatments = new PastTreatmentCollection();
                // pastTreatments.loadFromLocal();
                var currentTreatments = new CurrentTreatmentCollection();
                // currentTreatments.loadFromLocal();
                app = new AppView({'questionCollection':questionCollection, 'currentTreatments': currentTreatments, 'pastTreatments':pastTreatments, el:$('.app')});
                app.getNextQuestion();
            });
        </script>

        <script id="questionTemplate" type="html/template">
            <div class="questionText animated fadeInRight">
                <h1 class="text-center">{{{ text }}}</h1>

                <form>
                    <div class="form-group   text-center">
                        <div class="range-input clearfix">
                            <p class="value">5</p>
                            <input type="range" min="0" max="10" value="5" class="form-input input-lg">
                            <span class="pull-left label label-default">0 - {{ min }}</span>
                            <span class="pull-right label label-default">{{ max }} - 10</span>
                        </div>
                    </div>
                </form>
            </div>
        </script>

		<script id="questionResultsTemplate" type="html/template">
			<div class="row questionResult">
				<h2 class="questionShortText">Average Pain</h2>
	           	<div class="col-xs-6 questionCurrentResult">
	            	<span class="questionAverageResult">6.4</span>
	            </div>
	            <div class="col-xs-6 comparisons" >
		        	<div class="improved"><span class="glyphicon glyphicon-time"></span><span class="glyphicon glyphicon-arrow-up"></span><span class="changeValue">0.4</span></div>
		           	<hr class="separator" />
		           	<div class="worse"><span class="glyphicon glyphicon-glass"></span><span class="glyphicon glyphicon-arrow-down"></span><span class="changeValue">1.4</span></div>
	           	</div>
	        </div>
		</script>

        <script id="doneTemplate" type="html/template">
            <div class="animated fadeInRight">
                <h1 class="text-center all-done">All done.</h1>
                <div class="col-xs-offset-1 col-xs-10">
                    <button class="btn btn-lg btn-primary btn-block">VIEW REPORT</button>
                </div>
            </div>
        </script>
    </body>
</html>
